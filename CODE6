	ORG 100	
ZRO,  	HEX 0		/RETURN ADDRESS STORE HERE
	BUN SRV		/BRANCH TO SERVICE ROUTINE
	CLA		/PORTION OF RUNNING PROGRAM
	ION
	LDA	X	
	ADD 	Y	/INTERRUPT OCCURES HERE
	STA 	Z	/PROGRAM RETURNS HERE AFTER INTERRUPT

X,	HEX	0
Y,	HEX	0
Z,	HEX	0
SRV,	STA 	SAC	/STORE SERVICE ROUTINE
	CIR		/MOVE E TO AC(1)
	STA	SE	/STORE CONTENT OF E
	SKI
	BUN	NXT	/FLAG IS OFF, CHECK NEXT BIT
	INP		/FLAG IS ON, INPUT CHARATER
	OUT		/PRINT	CHARATER
	STA PT1	I	/STORE IT IN INPUT BUFFER
NXT,	SKO		/CGECK OUTPUT FLAG
	BUN	EXT	/FLAG IS OFF, EXIT
	LDA	PT2 I	/LOAD CHARATER FROM OUTPUT BUFFER
	OUT		/INCREMENT OUTPUT BUFFER
	ISZ PT2		/INCREMENT	OUTPUT POINTER
EXT,	LDA	SE	/RESTORE VALUE AC(1)
	CIL		/SHIFT IT TO E
	LDA	SAC	/RESTORE CONTENT OF AC
	ION		/TURN INTERRUPT ON
	BUN	ZRO	I	/RETURN TO RUNNING PROGRAM
SAC,	HEX 0		/AC IS STORED HERE
SE,	HEX 0		/E IS STORED HERE
PT1,	HEX 0		/POINTER OF INPUT BUFFER	
PT2,	HEX 0		/POINTER OF OUTPUT BUFFER
    
	END    
	
      
